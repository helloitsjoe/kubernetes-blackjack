module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s="QfWi")}({HteQ:function(t,e){t.exports=require("preact")},"JuI/":function(t,e,n){},QfWi:function(t,e,n){"use strict";n.r(e);n("JuI/");var r,o,c,i=n("HteQ"),u=[],a=i.options.__r,l=i.options.diffed,s=i.options.__c,f=i.options.unmount;function _(t){i.options.__h&&i.options.__h(o);var e=o.__H||(o.__H={__:[],__h:[]});return t>=e.__.length&&e.__.push({}),e.__[t]}function p(t){return d(g,t)}function d(t,e,n){var c=_(r++);return c.__c||(c.__c=o,c.__=[n?n(e):g(void 0,e),function(e){var n=t(c.__[0],e);c.__[0]!==n&&(c.__[0]=n,c.__c.setState({}))}]),c.__}function h(t,e){var n=_(r++);j(n.__H,e)&&(n.__=t,n.__H=e,o.__H.__h.push(n))}function v(t){return b((function(){return{current:t}}),[])}function b(t,e){var n=_(r++);return j(n.__H,e)?(n.__H=e,n.__h=t,n.__=t()):n.__}function m(){u.some((function(t){if(t.__P)try{t.__H.__h.forEach(y),t.__H.__h.forEach(O),t.__H.__h=[]}catch(e){return t.__H.__h=[],i.options.__e(e,t.__v),!0}})),u=[]}function y(t){t.t&&t.t()}function O(t){var e=t.__();"function"==typeof e&&(t.t=e)}function j(t,e){return!t||e.some((function(e,n){return e!==t[n]}))}function g(t,e){return"function"==typeof e?e(t):e}function N(t,e){for(var n in e)t[n]=e[n];return t}function A(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}i.options.__r=function(t){a&&a(t),r=0,(o=t.__c).__H&&(o.__H.__h.forEach(y),o.__H.__h.forEach(O),o.__H.__h=[])},i.options.diffed=function(t){l&&l(t);var e=t.__c;if(e){var n=e.__H;n&&n.__h.length&&(1!==u.push(e)&&c===i.options.requestAnimationFrame||((c=i.options.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(r),cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);"undefined"!=typeof window&&(e=requestAnimationFrame(n))})(m))}},i.options.__c=function(t,e){e.some((function(t){try{t.__h.forEach(y),t.__h=t.__h.filter((function(t){return!t.__||O(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],i.options.__e(n,t.__v)}})),s&&s(t,e)},i.options.unmount=function(t){f&&f(t);var e=t.__c;if(e){var n=e.__H;if(n)try{n.__.forEach((function(t){return t.t&&t.t()}))}catch(t){i.options.__e(t,e.__v)}}};!function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).isPureReactComponent=!0,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.shouldComponentUpdate=function(t,e){return A(this.props,t)||A(this.state,e)}}(i.Component);var C=i.options.__b;function P(t){function e(e){var n=N({},e);return delete n.ref,t(n,e.ref)}return e.prototype.isReactComponent=e.t=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}i.options.__b=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),C&&C(t)};var w=function(t,e){return t?Object(i.toChildArray)(t).reduce((function(t,n,r){return t.concat(e(n,r))}),[]):null},k=(i.toChildArray,i.options.__e);function S(t){return t&&((t=N({},t)).__c=null,t.__k=t.__k&&t.__k.map(S)),t}function E(){this.__u=0,this.o=null,this.__b=null}function I(t){var e=t.__.__c;return e&&e.u&&e.u(t)}function H(){this.i=null,this.l=null}i.options.__e=function(t,e,n){if(t.then)for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return r.__c(t,e.__c);k(t,e,n)},(E.prototype=new i.Component).__c=function(t,e){var n=this;null==n.o&&(n.o=[]),n.o.push(e);var r=I(n.__v),o=!1,c=function(){o||(o=!0,r?r(i):i())};e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){c(),e.__c&&e.__c()};var i=function(){var t;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});t=n.o.pop();)t.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),t.then(c,c)},E.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=S(this.__b),this.__b=null),[Object(i.createElement)(i.Component,null,e.u?null:t.children),e.u&&t.fallback]};var L=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};(H.prototype=new i.Component).u=function(t){var e=this,n=I(e.__v),r=e.l.get(t);return r[0]++,function(o){var c=function(){e.props.revealOrder?(r.push(o),L(e,t,r)):o()};n?n(c):c()}},H.prototype.render=function(t){this.i=null,this.l=new Map;var e=Object(i.toChildArray)(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},H.prototype.componentDidUpdate=H.prototype.componentDidMount=function(){var t=this;t.l.forEach((function(e,n){L(t,n,e)}))};!function(){function t(){}var e=t.prototype;e.getChildContext=function(){return this.props.context},e.render=function(t){return t.children}}();var T=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;i.Component.prototype.isReactComponent={};var U="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;var x=i.options.event;function W(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}i.options.event=function(t){x&&(t=x(t)),t.persist=function(){};var e=!1,n=!1,r=t.stopPropagation;t.stopPropagation=function(){r.call(t),e=!0};var o=t.preventDefault;return t.preventDefault=function(){o.call(t),n=!0},t.isPropagationStopped=function(){return e},t.isDefaultPrevented=function(){return n},t.nativeEvent=t};var D={configurable:!0,get:function(){return this.class}},Y=i.options.vnode;i.options.vnode=function(t){t.$$typeof=U;var e=t.type,n=t.props;if(e){if(n.class!=n.className&&(D.enumerable="className"in n,null!=n.className&&(n.class=n.className),Object.defineProperty(n,"className",D)),"function"!=typeof e){var r,o,c;for(c in n.defaultValue&&void 0!==n.value&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===e&&(Object(i.toChildArray)(n.children).forEach((function(t){-1!=n.value.indexOf(t.props.value)&&(t.props.selected=!0)})),delete n.value),n)if(r=T.test(c))break;if(r)for(c in o=t.props={},n)o[T.test(c)?c.replace(/[A-Z0-9]/,"-$&").toLowerCase():c]=n[c]}!function(e){var n=t.type,r=t.props;if(r&&"string"==typeof n){var o={};for(var c in r)/^on(Ani|Tra|Tou)/.test(c)&&(r[c.toLowerCase()]=r[c],delete r[c]),o[c.toLowerCase()]=c;if(o.ondoubleclick&&(r.ondblclick=r[o.ondoubleclick],delete r[o.ondoubleclick]),o.onbeforeinput&&(r.onbeforeinput=r[o.onbeforeinput],delete r[o.onbeforeinput]),o.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var i=o.oninput||"oninput";r[i]||(r[i]=r[o.onchange],delete r[o.onchange])}}}(),"function"==typeof e&&!e.m&&e.prototype&&(W(e.prototype,"componentWillMount"),W(e.prototype,"componentWillReceiveProps"),W(e.prototype,"componentWillUpdate"),e.m=!0)}Y&&Y(t)};i.createElement,i.createContext,i.createRef,i.Fragment,i.Component;var G=function(){if("undefined"!=typeof window&&window.location.search){var t=R(window.location.search);if(t)return t}return"http://192.168.64.2:32566/game"};function F(t){var e=document.querySelectorAll("button"),n=Array.from(e).findIndex((function(e){return t.target.isEqualNode(e)}));if("j"===t.key){var r=n+1;r<e.length&&e[r].focus()}if("k"===t.key){var o=n-1;o>-1&&e[o].focus()}}var R=function(t){var e=t.replace("?","").split("&").reduce((function(t,e){var n=e.split("="),r=n[0],o=n[1];return t[r]=o,t}),{}),n=e.host,r=e.port;return n&&r&&"http://"+n+":"+r+"/game"};function M(){return(M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){J(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}console.log("URL:",G());var K={WAITING:"WAITING...",PLAYING:"PLAYING...",BUST:"BUST!",BLACKJACK:"BLACKJACK!",WIN:"YOU WIN!",LOSE:"YOU LOSE!",TIE:"YOU TIE!"},$=function(t,e,n){return fetch(G(),{method:"POST",body:JSON.stringify({type:t,balance:e,bet:n}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){if(t.message)throw new Error(res.message);return console.log(t.data),t.data||t})).catch(console.error)},Q=function(t){return[B({},t[0],{value:0,face:"",suit:""})].concat(t.slice(1))};var V=P((function(t,e){return Object(i.h)("button",M({},t,{className:"controls-button",ref:e}),t.children)}));function z(t){var e=t.cards;return Object(i.h)("div",{className:"cards"},e.map((function(t){return Object(i.h)("div",{key:t},Object(i.h)(Z,t))})))}function Z(t){var e=t.face,n=void 0===e?"King":e,r=t.suit,o=void 0===r?"Clubs":r,c={clubs:"black",spades:"black",diamonds:"red",hearts:"red"}[o],u={clubs:"♣",spades:"♠",diamonds:"♦",hearts:"♥"}[o]||"?";return Object(i.h)("div",{className:"card-space"},Object(i.h)("div",{className:"card card-"+c},Object(i.h)("p",null,n),Object(i.h)("h2",null,u)))}e.default=function(){var t=p([]),e=t[0],n=t[1],r=p(0),o=r[0],c=r[1],u=p([]),a=u[0],l=u[1],s=p(0),f=s[0],_=s[1],d=p("WAITING"),b=d[0],m=d[1],y=p(1e3),O=y[0],j=y[1],g=p(25),N=g[0],A=g[1],C=v(),P=v();return h((function(){"PLAYING"===b?P.current.focus():C.current.focus()}),[b]),h((function(){return document.addEventListener("keypress",F),function(){return document.removeEventListener("keypress",F)}}),[]),Object(i.h)("div",{className:"app"},Object(i.h)("div",{className:"controls"},Object(i.h)("h2",null,"$",O),Object(i.h)("label",{className:"controls-bet"},Object(i.h)("span",null,"Bet: $"),Object(i.h)("input",{className:"controls-betInput",type:"number",step:25,onChange:function(t){return A(t.target.value)},value:N})),Object(i.h)(V,{onClick:function(){return $("DEAL",O,N).then((function(t){var e=Q(t.dealer_cards);n(t.player_cards),c(t.player_total),l(Q(t.dealer_cards)),_(e.reduce((function(t,e){return t+e.value}),0)),m("PLAYING"),j((function(t){return t-N}))}))},ref:C},"Deal"),Object(i.h)(V,{ref:P,disabled:"PLAYING"!==b,onClick:function(){return $("HIT").then((function(t){n((function(e){return[].concat(e,[t.card])})),c(t.total),m(t.status)}))}},"Hit"),Object(i.h)(V,{disabled:"PLAYING"!==b,onClick:function(){return $("STAY").then((function(t){console.log("data:",t),l(t.dealer_cards),_(t.dealer_total),m(t.status),j(t.balance)}))}},"Stay"),Object(i.h)("h2",null,K[b]),"WAITING"!==b&&Object(i.h)("table",{className:"totals"},Object(i.h)("tr",null,Object(i.h)("td",null,"You:"),Object(i.h)("td",{className:"totals-scores"},o)),Object(i.h)("tr",null,Object(i.h)("td",null,"Dealer:"),Object(i.h)("td",{className:"totals-scores"},f)))),Object(i.h)("div",{className:"game"},Object(i.h)(z,{cards:e}),Object(i.h)(z,{cards:a})))}}});
//# sourceMappingURL=ssr-bundle.js.map